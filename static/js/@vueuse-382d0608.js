import{r as e,w as t,o as r,i as n,g as o,a,n as i,b as s,c as l,d as u,e as c,f,s as d,u as p}from"./@vue-0ca83618.js";var v=Object.defineProperty,g=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,y=(e,t,r)=>t in e?v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,w=(e,t)=>{for(var r in t||(t={}))b.call(t,r)&&y(e,r,t[r]);if(g)for(var r of g(t))m.call(t,r)&&y(e,r,t[r]);return e};function h(e,t){if(e instanceof HTMLElement&&t instanceof HTMLElement){const r=t.getAttribute("nonce");if(r&&!e.getAttribute("nonce")){const n=t.cloneNode(!0);return n.setAttribute("nonce",""),n.nonce=r,r===e.nonce&&e.isEqualNode(n)}}return e.isEqualNode(t)}var O=["title","meta","link","base","style","script","htmlAttrs","bodyAttrs"],j=(e,t)=>{const r=e.getAttribute("data-head-attrs");if(r)for(const o of r.split(","))o in t||e.removeAttribute(o);const n=[];for(const o in t){const r=t[o];null!=r&&(!1===r?e.removeAttribute(o):e.setAttribute(o,r),n.push(o))}n.length?e.setAttribute("data-head-attrs",n.join(",")):e.removeAttribute("data-head-attrs")},A=(e=window.document,t,r)=>{var n;const o=e.head;let a=o.querySelector('meta[name="head:count"]');const i=a?Number(a.getAttribute("content")):0,s=[];if(a)for(let u=0,c=a.previousElementSibling;u<i;u++,c=(null==c?void 0:c.previousElementSibling)||null)(null==(n=null==c?void 0:c.tagName)?void 0:n.toLowerCase())===t&&s.push(c);else a=e.createElement("meta"),a.setAttribute("name","head:count"),a.setAttribute("content","0"),o.append(a);let l=r.map((t=>((e,t,r)=>{const n=r.createElement(e);for(const o of Object.keys(t)){let e=t[o];"key"!==o&&!1!==e&&("children"===o?n.textContent=e:n.setAttribute(o,e))}return n})(t.tag,t.props,e)));l=l.filter((e=>{for(let t=0;t<s.length;t++){if(h(s[t],e))return s.splice(t,1),!1}return!0})),s.forEach((e=>{var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),l.forEach((e=>{o.insertBefore(e,a)})),a.setAttribute("content",""+(i-s.length+l.length))},E=()=>{let e=[];const t={install(e){e.config.globalProperties.$head=t,e.provide("usehead",t)},get headTags(){const t=[];return e.forEach((e=>{(e=>{const t=[];for(const r of Object.keys(e))if(null!=e[r])if("title"===r)t.push({tag:r,props:{children:e[r]}});else if("base"===r)t.push({tag:r,props:w({key:"default"},e[r])});else if(O.includes(r)){const n=e[r];Array.isArray(n)?n.forEach((e=>{t.push({tag:r,props:e})})):n&&t.push({tag:r,props:n})}return t})(e.value).forEach((e=>{if("meta"===e.tag||"base"===e.tag||"script"===e.tag){const r=(e=>{const t=["key","id","name","property"];for(const r of t){const t="function"==typeof e.getAttribute?e.hasAttribute(r)?e.getAttribute(r):void 0:e[r];if(void 0!==t)return{name:r,value:t}}})(e.props);if(r){let n=-1;for(let o=0;o<t.length;o++){const a=t[o],i=a.props[r.name],s=e.props[r.name];if(a.tag===e.tag&&i===s){n=o;break}}-1!==n&&t.splice(n,1)}}t.push(e)}))})),t},addHeadObjs(t){e.push(t)},removeHeadObjs(t){e=e.filter((e=>e!==t))},updateDOM(e=window.document){let r,n={},o={};const a={};for(const i of t.headTags)"title"!==i.tag?"htmlAttrs"!==i.tag?"bodyAttrs"!==i.tag?(a[i.tag]=a[i.tag]||[],a[i.tag].push(i)):Object.assign(o,i.props):Object.assign(n,i.props):r=i.props.children;void 0!==r&&(e.title=r),j(e.documentElement,n),j(e.body,o);for(const t of Object.keys(a))A(e,t,a[t])}};return t},S="undefined"!=typeof window,k=o=>{const a=e(o),i=(()=>{const e=n("usehead");if(!e)throw new Error("You may forget to apply app.use(head)");return e})();i.addHeadObjs(a),S&&(t((()=>{i.updateDOM()})),r((()=>{i.removeHeadObjs(a),i.updateDOM()})))};function P(e){return!!u()&&(c(e),!0)}const N="undefined"!=typeof window,L=()=>{};const C=e=>e();var D=Object.getOwnPropertySymbols,F=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;function M(e,t,r={}){const n=r,{eventFilter:o=C}=n,a=((e,t)=>{var r={};for(var n in e)F.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&D)for(var n of D(e))t.indexOf(n)<0&&I.call(e,n)&&(r[n]=e[n]);return r})(n,["eventFilter"]);return l(e,(i=o,s=t,function(...e){i((()=>s.apply(this,e)),{fn:s,thisArg:this,args:e})}),a);var i,s}var T=Object.defineProperty,H=Object.defineProperties,x=Object.getOwnPropertyDescriptors,J=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable,B=(e,t,r)=>t in e?T(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;function $(t,r,n={}){const o=n,{eventFilter:a}=o,i=((e,t)=>{var r={};for(var n in e)_.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&J)for(var n of J(e))t.indexOf(n)<0&&q.call(e,n)&&(r[n]=e[n]);return r})(o,["eventFilter"]),{eventFilter:s,pause:l,resume:u,isActive:c}=function(t=C){const r=e(!0);return{isActive:r,pause:function(){r.value=!1},resume:function(){r.value=!0},eventFilter:(...e)=>{r.value&&t(...e)}}}(a),f=M(t,r,(d=((e,t)=>{for(var r in t||(t={}))_.call(t,r)&&B(e,r,t[r]);if(J)for(var r of J(t))q.call(t,r)&&B(e,r,t[r]);return e})({},i),H(d,x({eventFilter:s}))));var d;return{stop:f,pause:l,resume:u,isActive:c}}const z=N?window:void 0;function K(...e){let t,r,n,o;if("string"==typeof e[0]?([r,n,o]=e,t=z):[t,r,n,o]=e,!t)return L;let a=L;const i=l((()=>function(e){var t;const r=p(e);return null!=(t=null==r?void 0:r.$el)?t:r}(t)),(e=>{a(),e&&(e.addEventListener(r,n,o),a=()=>{e.removeEventListener(r,n,o),a=L})}),{immediate:!0,flush:"post"}),s=()=>{i(),a()};return P(s),s}function R(t,r={}){const{window:n=z}=r;let s;const l=e(!1),u=()=>{n&&(s||(s=n.matchMedia(t)),l.value=s.matches)};return function(e,t=!0){o()?a(e):t?e():i(e)}((()=>{u(),s&&("addEventListener"in s?s.addEventListener("change",u):s.addListener(u),P((()=>{"removeEventListener"in s?s.removeEventListener("change",u):s.removeListener(u)})))})),l}N&&window.document,N&&window.navigator,N&&window.location;const V="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Y="__vueuse_ssr_handlers__";V[Y]=V[Y]||{};const G=V[Y];function Q(e,t){return G[e]||t}const U={boolean:{read:e=>"true"===e,write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}};function W(t,r,n,o={}){var a;const{flush:i="pre",deep:s=!0,listenToStorageChanges:l=!0,writeDefaults:u=!0,shallow:c,window:f=z,eventFilter:v,onError:g=(e=>{})}=o,b=(c?d:e)(r);if(!n)try{n=Q("getDefaultStorage",(()=>{var e;return null==(e=z)?void 0:e.localStorage}))()}catch(A){g(A)}if(!n)return b;const m=p(r),y=function(e){return null==e?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":"boolean"==typeof e?"boolean":"string"==typeof e?"string":"object"==typeof e||Array.isArray(e)?"object":Number.isNaN(e)?"any":"number"}(m),w=null!=(a=o.serializer)?a:U[y],{pause:h,resume:O}=$(b,(()=>function(e){try{null==e?n.removeItem(t):n.setItem(t,w.write(e))}catch(A){g(A)}}(b.value)),{flush:i,deep:s,eventFilter:v});return f&&l&&K(f,"storage",j),j(),b;function j(e){e&&e.key!==t||(b.value=function(e){if(!e||e.key===t){h();try{const r=e?e.newValue:n.getItem(t);return null==r?(u&&null!==m&&n.setItem(t,w.write(m)),m):"string"!=typeof r?r:w.read(r)}catch(A){g(A)}finally{O()}}}(e))}}function X(e){return R("(prefers-color-scheme: dark)",e)}var Z=Object.defineProperty,ee=Object.getOwnPropertySymbols,te=Object.prototype.hasOwnProperty,re=Object.prototype.propertyIsEnumerable,ne=(e,t,r)=>t in e?Z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;function oe(t={}){const{selector:r="html",attribute:n="class",window:a=z,storage:u,storageKey:c="vueuse-color-scheme",listenToStorageChanges:d=!0,storageRef:p}=t,v=((e,t)=>{for(var r in t||(t={}))te.call(t,r)&&ne(e,r,t[r]);if(ee)for(var r of ee(t))re.call(t,r)&&ne(e,r,t[r]);return e})({auto:"",light:"light",dark:"dark"},t.modes||{}),g=X({window:a}),b=f((()=>g.value?"dark":"light")),m=p||(null==c?e("auto"):W(c,"auto",u,{window:a,listenToStorageChanges:d})),y=f({get:()=>"auto"===m.value?b.value:m.value,set(e){m.value=e}}),w=Q("updateHTMLAttrs",((e,t,r)=>{const n=null==a?void 0:a.document.querySelector(e);if(n)if("class"===t){const e=r.split(/\s/g);Object.values(v).flatMap((e=>(e||"").split(/\s/g))).filter(Boolean).forEach((t=>{e.includes(t)?n.classList.add(t):n.classList.remove(t)}))}else n.setAttribute(t,r)}));function h(e){var t;w(r,n,null!=(t=v[e])?t:e)}function O(e){t.onChanged?t.onChanged(e,h):h(e)}return l(y,O,{flush:"post",immediate:!0}),function(e,t=!0){o()?s(e):t?e():i(e)}((()=>O(y.value))),y}var ae,ie,se=Object.defineProperty,le=Object.defineProperties,ue=Object.getOwnPropertyDescriptors,ce=Object.getOwnPropertySymbols,fe=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable,pe=(e,t,r)=>t in e?se(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;function ve(e={}){const{valueDark:t="dark",valueLight:r="",window:n=z}=e,o=oe((a=((e,t)=>{for(var r in t||(t={}))fe.call(t,r)&&pe(e,r,t[r]);if(ce)for(var r of ce(t))de.call(t,r)&&pe(e,r,t[r]);return e})({},e),le(a,ue({onChanged:(t,r)=>{var n;e.onChanged?null==(n=e.onChanged)||n.call(e,"dark"===t):r(t)},modes:{dark:t,light:r}}))));var a;const i=X({window:n});return f({get:()=>"dark"===o.value,set(e){e===i.value?o.value="auto":o.value=e?"dark":"light"}})}N&&(null==window?void 0:window.navigator)&&(null==(ae=null==window?void 0:window.navigator)?void 0:ae.platform)&&/iP(ad|hone|od)/.test(null==(ie=null==window?void 0:window.navigator)?void 0:ie.platform);export{k as a,E as c,ve as u};
